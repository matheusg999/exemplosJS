<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordenação de Valores</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="ordenando.js" defer></script>
</head>
<body class="container mt-5">

    <h1 class="text-center mb-4">Ordenação de Números</h1>

    <div class="input-group mb-3">
        <input type="number" id="valor" class="form-control" placeholder="Digite um valor">
        <div class="input-group-append">
            <button class="btn btn-primary" onclick="add()">Adicionar</button>
        </div>
    </div>

    <div class="form-group">
        <label for="tipoOrdenacao">Selecione o tipo de ordenação:</label>
        <select id="tipoOrdenacao" class="form-control">
            <option value="bubble_sort" selected>Bubble Sort</option>
            <option value="selection_sort">Selection Sort</option>
            <option value="quick_sort">Quick Sort</option>
        </select>
    </div>

    <div class="btn-group mb-3" role="group">
        <button class="btn btn-success" onclick="ordenar()">Ordenar</button>
        <button class="btn btn-warning" onclick="misturar()">Misturar</button>
    </div>

    <ul id="valores" class="list-group"></ul>

    <script>
        var listaDeValores = [];

        function add() {
            var campoValor = document.getElementById('valor');
            var valor = parseInt(campoValor.value); 

            if (!isNaN(valor)) { 
                listaDeValores.push(valor);
                atualizarLista();
            }

            campoValor.value = '';
        }

        function ordenar() {
            var tipoOrdenacao = document.getElementById('tipoOrdenacao').value;

            switch (tipoOrdenacao) {
                case 'bubble_sort':
                    bubble_sort(listaDeValores);
                    break;
                case 'selection_sort':
                    selection_sort(listaDeValores);
                    break;
                case 'quick_sort':
                    quick_sort(listaDeValores, 0, listaDeValores.length - 1);
                    break;
            }

            atualizarLista();
        }

        function misturar() {
            var listaValores = document.getElementById('valores');
            var vetor = [];

            for (var i = 0; i < listaValores.children.length; i++) {
                vetor.push(eval(listaValores.children[i].innerHTML));
            }

            shuffle(vetor, vetor.length);

            listaValores.innerHTML = vetor.map(function(valor) {
                return `<li class="list-group-item">${valor}</li>`;
            }).reduce(function(acumulador, itemHTML) {
                return acumulador + itemHTML;
            }, '');
        }

        function atualizarLista() {
            var ul = document.getElementById('valores');
            ul.innerHTML = ''; 
            listaDeValores.forEach(function(valor) {
                var li = document.createElement('li');
                li.textContent = valor;
                li.className = "list-group-item";
                ul.appendChild(li);
            });
        }

        function shuffle(arr, n) {
            for (let i = n - 1; i > 0; i--) {
                let j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }

        function bubble_sort(arr) {
            for (let i = 0; i < arr.length - 1; i++) {
                for (let j = 0; j < arr.length - i - 1; j++) {
                    if (arr[j] > arr[j + 1]) {
                        let temp = arr[j];
                        arr[j] = arr[j + 1];
                        arr[j + 1] = temp;
                    }
                }
            }
        }

        function selection_sort(arr) {
            for (let i = 0; i < arr.length; i++) {
                let min = i;
                for (let j = i + 1; j < arr.length; j++) {
                    if (arr[j] < arr[min]) {
                        min = j;
                    }
                }
                if (min !== i) {
                    let temp = arr[i];
                    arr[i] = arr[min];
                    arr[min] = temp;
                }
            }
        }

        function quick_sort(arr, low, high) {
            if (low < high) {
                let pi = particionamento(arr, low, high);
                quick_sort(arr, low, pi - 1);
                quick_sort(arr, pi + 1, high);
            }
        }

        function particionamento(arr, low, high) {
            let pivot = arr[high];
            let i = low - 1;
            for (let j = low; j < high; j++) {
                if (arr[j] < pivot) {
                    i++;
                    let temp = arr[i];
                    arr[i] = arr[j];
                    arr[j] = temp;
                }
            }
            let temp = arr[i + 1];
            arr[i + 1] = arr[high];
            arr[high] = temp;
            return i + 1;
        }

    </script>
    
</body>
</html>
